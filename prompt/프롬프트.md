# CreFlow 개발 프롬프트

> Claude Code에게 전달할 프롬프트입니다.
> 페르소나.md를 먼저 읽게 한 후, 이 프롬프트와 기획서.md를 함께 전달하세요.

---

## 사용 방법

```bash
# 1단계: 페르소나 설정
claude "페르소나.md를 읽고 이 역할을 수행해줘"

# 2단계: 프로젝트 시작
claude "기획서.md와 프롬프트.md를 읽고 CreFlow MVP 개발을 시작해줘"
```

---

## 메인 프롬프트

````
# CreFlow MVP 개발 요청

## 프로젝트 개요
CreFlow는 크리에이터의 수익과 지출을 관리하는 웹 서비스입니다.
첨부된 기획서.md를 기반으로 MVP를 개발해주세요.

## 핵심 가치
"크리에이터의 진짜 수익을 3초 만에"
순수익 = 총 수익 (플랫폼 + 광고) - 총 지출 (인건비 + 기타)

## 기술 스택 (필수)
- Framework: Next.js 15 (App Router)
- Language: TypeScript (strict mode)
- Styling: Tailwind CSS + shadcn/ui
- Database: Supabase (PostgreSQL)
- Auth: Supabase Auth (Google OAuth)
- State: React Query (서버) + Zustand (클라이언트)
- PDF: Playwright (HTML → PDF)
- Deploy: Vercel

## MVP 기능 범위
1. Google 로그인
2. 온보딩 (플랫폼 선택, 협력자 등록)
3. 홈 대시보드 (이번 달 순수익, 수익, 지출)
4. 수익 관리 (플랫폼 수익, 광고/협찬 수동 입력)
5. 지출 관리 (협력자 인건비, 기타 지출)
6. 협력자 관리 (등록, 정산 방식 설정)
7. 연간 리포트 PDF 다운로드
8. 피드백 수집 폼

## 디자인 가이드라인

### 절대 하지 말 것 (AI Slop)
- 보라색 그라데이션 배경
- 반투명 글래스모피즘 카드
- 과도한 그림자 (shadow-2xl 이상)
- 무의미한 아이콘 남발
- 둥글둥글한 모서리 (rounded-3xl 이상)
- 형광색 포인트 컬러
- 애니메이션 과다 사용

### 해야 할 것
- 깔끔한 화이트 배경 + 미세한 그레이 구분
- 명확한 정보 위계 (크기, 굵기로 구분)
- 최소한의 컬러 사용 (1-2개 포인트 컬러)
- 충분한 여백 (패딩, 마진)
- 일관된 간격 시스템 (4px 단위)
- 명확한 CTA 버튼
- 모바일 퍼스트 반응형

### 컬러 시스템
```css
/* Primary */
--primary: #18181B;        /* 거의 블랙 */
--primary-foreground: #FAFAFA;

/* Accent */
--accent: #2563EB;         /* 블루 (입금, 성공) */
--accent-red: #DC2626;     /* 레드 (마감, 경고) */
--accent-yellow: #F59E0B;  /* 옐로우 (진행중) */
--accent-green: #16A34A;   /* 그린 (완료) */

/* Neutral */
--background: #FFFFFF;
--card: #FAFAFA;
--border: #E4E4E7;
--muted: #71717A;
````

### 폰트

```css
font-family: "Pretendard", -apple-system, BlinkMacSystemFont, sans-serif;
```

### 레이아웃

- 모바일: 100vw, 하단 탭 네비게이션
- 데스크톱: max-width 480px 중앙 정렬 (모바일 앱 느낌 유지)

## 폴더 구조

```
creflow/
├── app/
│   ├── (auth)/
│   │   ├── login/
│   │   └── callback/
│   ├── (main)/
│   │   ├── layout.tsx          # 하단 탭 네비
│   │   ├── page.tsx            # 홈 대시보드
│   │   ├── income/
│   │   │   ├── page.tsx        # 수익 목록
│   │   │   └── new/page.tsx    # 수익 추가
│   │   ├── expense/
│   │   │   ├── page.tsx        # 지출 목록
│   │   │   └── new/page.tsx    # 지출 추가
│   │   ├── report/
│   │   │   └── page.tsx        # 리포트 & PDF
│   │   └── settings/
│   │       └── page.tsx        # 설정
│   ├── onboarding/
│   │   └── page.tsx            # 온보딩 플로우
│   ├── api/
│   │   ├── auth/
│   │   ├── income/
│   │   ├── expense/
│   │   ├── collaborator/
│   │   ├── report/
│   │   │   └── pdf/route.ts    # PDF 생성
│   │   └── feedback/
│   └── layout.tsx
├── components/
│   ├── ui/                     # shadcn/ui
│   ├── layout/
│   │   ├── BottomNav.tsx
│   │   └── Header.tsx
│   ├── home/
│   │   ├── NetIncomeCard.tsx
│   │   ├── SummaryCards.tsx
│   │   └── UpcomingEvents.tsx
│   ├── income/
│   ├── expense/
│   └── report/
├── lib/
│   ├── supabase/
│   │   ├── client.ts
│   │   ├── server.ts
│   │   └── middleware.ts
│   ├── utils.ts
│   └── constants.ts
├── hooks/
│   ├── useIncome.ts
│   ├── useExpense.ts
│   └── useCollaborator.ts
├── types/
│   └── index.ts
├── stores/
│   └── useStore.ts
└── styles/
    └── globals.css
```

## 개발 순서

### Week 1: 기반 구축

1. Next.js 15 프로젝트 생성
2. Tailwind + shadcn/ui 설정
3. Supabase 프로젝트 생성 & 연동
4. 데이터베이스 스키마 생성 (기획서 참고)
5. 환경변수 설정

### Week 2: 인증 & 온보딩

1. Supabase Auth + Google OAuth 설정
2. 로그인 페이지
3. Auth 미들웨어 (보호된 라우트)
4. 온보딩 플로우 (플랫폼 선택, 협력자 등록)
5. 홈 화면 기본 레이아웃

### Week 3: 핵심 CRUD

1. 수익 CRUD (API + UI)
2. 지출 CRUD (API + UI)
3. 협력자 CRUD (API + UI)
4. 홈 대시보드 데이터 연동
5. 순수익 계산 로직

### Week 4: 리포트 & 부가기능

1. 리포트 페이지 UI
2. PDF 템플릿 작성 (HTML)
3. Playwright PDF 생성 API
4. 피드백 폼 구현
5. 설정 페이지

### Week 5: 마무리 & 배포

1. 반응형 점검
2. 에러 핸들링
3. 로딩 상태
4. Empty State
5. Vercel 배포
6. 도메인 연결 (creflow.kr)

## 중요 지침

### 코드 품질

- TypeScript strict mode 유지
- 모든 API 응답에 타입 정의
- 에러 핸들링 필수 (try-catch, Error Boundary)
- 의미 있는 변수/함수명 (한글 주석 OK)

### 성능

- 이미지 최적화 (next/image)
- 동적 임포트 (필요시)
- React Query로 서버 상태 캐싱

### UX

- 모든 인터랙션에 피드백 (로딩, 성공, 에러)
- 낙관적 업데이트 적용
- 스켈레톤 로딩

### 보안

- 모든 API에 인증 체크
- Row Level Security (RLS) 적용
- 환경변수로 민감정보 관리

## 참고 자료

- 기획서.md: 상세 기능 명세, 화면 설계, 데이터 모델
- Supabase Docs: https://supabase.com/docs
- shadcn/ui: https://ui.shadcn.com
- Next.js 15: https://nextjs.org/docs

## 질문 시

개발 중 불명확한 부분이 있으면:

1. 기획서.md를 다시 확인
2. 사용자 관점에서 가장 직관적인 방향으로 결정
3. 결정 사항을 코드 주석으로 기록

## 보안 주의사항

### AI한테 맡기면 안 되는 것

- Supabase 프로젝트 생성
- Google OAuth 앱 생성
- API 키/시크릿 발급
- .env 파일 내용 작성

### AI한테 맡겨도 되는 것

- SQL 스키마 코드
- RLS 정책 코드
- 인증 관련 UI/로직 (키 제외)
- 클라이언트 코드

### 환경 설정

- 패키지 매니저: pnpm
- .npmrc에 `shamefully-hoist=true` 설정 필수

---

이제 기획서.md를 읽고 개발을 시작해주세요.
첫 번째로 프로젝트 초기 설정부터 진행합니다.

```

---

## 추가 프롬프트 (상황별)

### 특정 기능 개발 요청

```

기획서.md의 [섹션명] 부분을 참고해서 [기능명]을 구현해줘.

예시:

- "기획서.md의 4-2 수익 관리 부분을 참고해서 수익 입력 폼을 구현해줘"
- "기획서.md의 4-5 연간 리포트 부분을 참고해서 PDF 생성 기능을 구현해줘"

```

### 디자인 수정 요청

```

현재 [컴포넌트명]이 AI slop 느낌이 나.
페르소나.md의 디자인 원칙을 참고해서 수정해줘.

구체적으로:

- 그라데이션 제거
- 그림자 최소화
- 여백 늘리기
- 컬러 단순화

```

### 버그 수정 요청

```

[기능명]에서 [증상] 버그가 발생해.

재현 순서:

1. ...
2. ...
3. ...

예상 동작: ...
실제 동작: ...

기획서.md의 [관련 섹션]을 참고해서 수정해줘.

```

### 배포 전 체크리스트

```

MVP 배포 전 체크리스트를 확인해줘:

1. 환경변수 설정 확인
2. Supabase RLS 정책 확인
3. 에러 핸들링 점검
4. 반응형 테스트
5. 성능 최적화
6. SEO 메타태그
7. 파비콘/OG 이미지

기획서.md 11장 개발 일정의 5주차 내용 참고.

```

---

## 커밋 메시지 규칙

```

feat: 새로운 기능 추가
fix: 버그 수정
style: 스타일링 변경
refactor: 코드 리팩토링
docs: 문서 수정
chore: 기타 작업

예시:
feat: 수익 입력 폼 구현
fix: 순수익 계산 오류 수정
style: 홈 대시보드 카드 디자인 개선

```

---

*이 프롬프트와 기획서.md, 페르소나.md를 함께 사용하세요.*
```
